@model IssueTracker.Models.Issue
@section Content {
    <form method="post" action="@Url.Action("AddComment", "Issue", new { id = Model.Id })">
        <div class="form-group">
            <label>Status:</label>
            <select name="status" class="form-control">
                @foreach (var status in (ViewData["availableStati"] as IEnumerable<string>))
                {
                    <option value="@status" @(status.Equals(Model.Status, StringComparison.InvariantCultureIgnoreCase) ? " selected=\"selected\"" : "")>
                        @status</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label>Comment:</label>
            @Html.TextArea("comment", new { @class = "form-control" })
        </div>

        <div class="form-group">
            <label>Notification to:</label>
            @Html.TextBox("email", null, new { @class = "form-control" })
        </div>

        <div class="form-group">
            <button type="submit" value="Save" class="btn btn-primary">Save</button>
        </div>
    </form>
}
@section Script {
    <script type="text/javascript">
        $("#email").keyup(function () {
            $("#public").attr("checked", $("#email").val() == "" ? "" : "checked");
        });
    </script>

}
